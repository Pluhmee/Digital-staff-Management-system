<!-- Login page -->
 {% extends 'base.html' %}
{% block title %}Login - DSMS{% endblock %}
{% block content %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

<div class="row justify-content-center">
    <div class="col-md-6">
        <h2 class="text-center mb-4">Login</h2>
        <form method="POST" action="">
            {{ form.hidden_tag() }}

            <div class="mb-3">
                {{ form.email.label(class_='form-label') }}
                {{ form.email(class_='form-control') }}
            </div>

            <div class="mb-3">
                {{ form.password.label(class_="form-label") }}
                <div class="input-group">
                    {{ form.password(class_="form-control", id="password") }}
                    <button class="btn btn-outline-secondary" type="button" id="togglePassword">
                        <i class="bi bi-eye" id="toggleIcon"></i>
                    </button>
                </div>
                <div class="mt-2">
                    <a href="{{ url_for('auth.forgot_password') }}">Forgot password?</a>
                </div>
            </div>

            <div class="mb-3 form-check">
                {{ form.remember_me(class_='form-check-input') }}
                {{ form.remember_me.label(class_='form-check-label') }}
            </div>

            <div class="d-grid gap-2">
                {{ form.submit(class_='btn btn-primary') }}
            </div>
        </form>
        <p class="mt-3">Don't have an account? <a href="{{ url_for('auth.register') }}">Register here</a></p>
    </div>
</div>
<script>
document.getElementById('togglePassword').addEventListener('click', function () {
    const passwordInput = document.getElementById('password');
    const icon = document.getElementById('toggleIcon');
    const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
    passwordInput.setAttribute('type', type);
    icon.classList.toggle('bi-eye');
    icon.classList.toggle('bi-eye-slash');
});
</script>
{% endblock %}
